#include <sinrf.h>
const unsigned short int sin_r[]={
0,6,12,18,25,31,37,44,50,56,62
,69,75,81,87,94,100,106,113,119,125,131
,138,144,150,156,163,169,175,182,188,194,200
,207,213,219,225,232,238,244,250,257,263,269
,275,281,288,294,300,306,313,319,325,331,337
,344,350,356,362,368,374,381,387,393,399,405
,411,418,424,430,436,442,448,454,461,467,473
,479,485,491,497,503,509,515,521,528,534,540
,546,552,558,564,570,576,582,588,594,600,606
,612,618,624,630,636,642,648,654,660,665,671
,677,683,689,695,701,707,713,719,724,730,736
,742,748,754,759,765,771,777,783,788,794,800
,806,811,817,823,829,834,840,846,851,857,863
,869,874,880,885,891,897,902,908,914,919,925
,930,936,941,947,952,958,963,969,974,980,985
,991,996,1002,1007,1013,1018,1023,1029,1034,1040,1045
,1050,1056,1061,1066,1072,1077,1082,1088,1093,1098,1103
,1109,1114,1119,1124,1129,1135,1140,1145,1150,1155,1160
,1165,1171,1176,1181,1186,1191,1196,1201,1206,1211,1216
,1221,1226,1231,1236,1241,1246,1251,1256,1260,1265,1270
,1275,1280,1285,1289,1294,1299,1304,1309,1313,1318,1323
,1327,1332,1337,1342,1346,1351,1355,1360,1365,1369,1374
,1378,1383,1388,1392,1397,1401,1406,1410,1414,1419,1423
,1428,1432,1436,1441,1445,1450,1454,1458,1462,1467,1471
,1475,1480,1484,1488,1492,1496,1500,1505,1509,1513,1517
,1521,1525,1529,1533,1537,1541,1545,1549,1553,1557,1561
,1565,1569,1573,1577,1581,1584,1588,1592,1596,1600,1603
,1607,1611,1615,1618,1622,1626,1629,1633,1637,1640,1644
,1647,1651,1654,1658,1662,1665,1668,1672,1675,1679,1682
,1686,1689,1692,1696,1699,1702,1706,1709,1712,1715,1719
,1722,1725,1728,1731,1735,1738,1741,1744,1747,1750,1753
,1756,1759,1762,1765,1768,1771,1774,1777,1780,1782,1785
,1788,1791,1794,1796,1799,1802,1805,1807,1810,1813,1815
,1818,1821,1823,1826,1828,1831,1833,1836,1838,1841,1843
,1846,1848,1851,1853,1855,1858,1860,1862,1865,1867,1869
,1871,1874,1876,1878,1880,1882,1884,1886,1889,1891,1893
,1895,1897,1899,1901,1903,1904,1906,1908,1910,1912,1914
,1916,1918,1919,1921,1923,1925,1926,1928,1930,1931,1933
,1934,1936,1938,1939,1941,1942,1944,1945,1947,1948,1950
,1951,1952,1954,1955,1956,1958,1959,1960,1961,1963,1964
,1965,1966,1967,1969,1970,1971,1972,1973,1974,1975,1976
,1977,1978,1979,1980,1981,1981,1982,1983,1984,1985,1985
,1986,1987,1988,1988,1989,1990,1990,1991,1992,1992,1993
,1993,1994,1994,1995,1995,1996,1996,1997,1997,1997,1998
,1998,1998,1999,1999,1999,1999,2000,2000,2000,2000,2000
,2000,2000,2000,2000,2000};


int sin_ro(unsigned int a,unsigned int b){
int c;	
if(a>b) a=a%b;	
c=(2000*a)/b;
if(c<1000){
if(c<500) return sin_r[c];
else return sin_r[1000-c];
}	
else{
if(c<1500)
return -1*sin_r[c-1000];
else
return -1*sin_r[2000-c];	
}
}

#define high_bag 0.9
#define low_bag 0.1



float sin_rf(float degree){
	float gpv0, gpv1;
	int gpv2, gpv3;
	while (degree > 360) degree -= 360;
	while (degree < 0)   degree += 360;
	gpv0 = (50 * degree) / 9;
	if (gpv0 < 1000){
		if (gpv0 < 500){
			if (gpv0>(int)gpv0 + high_bag) return sin_r[(int)gpv0+1];
			else if (gpv0<(int)gpv0 + low_bag) return sin_r[(int)gpv0];
			else   return (sin_r[(int)gpv0] + sin_r[(int)gpv0 + 1]) / 2;
		}
		else{
			if (gpv0>(int)gpv0 + high_bag) return sin_r[999-(int)gpv0];
			else if (gpv0<(int)gpv0 + low_bag) return sin_r[1000-(int)gpv0];
			else   return (sin_r[1000-(int)gpv0] + sin_r[999-(int)gpv0]) / 2;
		}
	}
	else{
		if (gpv0 < 1500){
			if (gpv0>(int)gpv0 + high_bag) return -1*sin_r[(int)gpv0 -999];
			else if (gpv0<(int)gpv0 + low_bag) return -1*sin_r[(int)gpv0-1000];
			else   return -1*(sin_r[(int)gpv0-1000] + sin_r[(int)gpv0 -999]) / 2;
		}
		else{
			if (gpv0>(int)gpv0 + high_bag) return -1*sin_r[1999 - (int)gpv0];
			else if (gpv0<(int)gpv0 + low_bag) return -1*sin_r[2000 - (int)gpv0];
			else   return -1*(sin_r[2000 - (int)gpv0] + sin_r[1999 - (int)gpv0]) / 2;
		}
	}
}


float cos_rf(float degree){
	while (degree>360) degree -= 360;
	while (degree < 0) degree += 360;
	return sin_rf(degree - 90);
}



